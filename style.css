/* ===========================
   NAVBAR — finale (stile invariato)
   =========================== */

/* la nav fa da riferimento per il menu assoluto */
.container.nav{ position:relative; }

/* barra */
.site-header{
  position:sticky; top:0; z-index:100;
  background:var(--bg);
  border-bottom:1px solid var(--line);
  backdrop-filter:saturate(180%) blur(8px);
}
.nav{
  display:flex; align-items:center; justify-content:space-between;
  padding:.8rem 0;
}
.brand{
  font-weight:800; letter-spacing:.2px;
  text-decoration:none; color:inherit;
}

/* --- DESKTOP di default --- */
.hamburger{ display:none; }                 /* niente hamburger su desktop */
.menu{ display:flex; gap:1.1rem; }          /* link inline come prima */
.menu a{ text-decoration:none; font-weight:700; color:var(--brand); }
.menu a:hover{ text-decoration:underline; text-underline-offset:5px; }

/* --- MOBILE --- */
@media (max-width:720px){
  /* checkbox: usa l'ID che hai in HTML (#nav-toggle) */
  #nav-toggle{ position:absolute; opacity:0; pointer-events:none; }

  .hamburger{
    display:inline-flex; align-items:center; justify-content:center;
    width:40px; height:36px; border-radius:10px; cursor:pointer;
    color:var(--brand);
  }
  .hamburger span{
    display:block; width:22px; height:2px; background:currentColor;
    margin:4px 0; border-radius:2px;
    transition:transform .25s ease, opacity .2s ease;
  }

  /* pannello a tendina: chiuso di default, non altera il layout */
  .menu{
    position:absolute; right:12px; top:60px;
    display:none; flex-direction:column; gap:.2rem;
    background:rgba(0,0,0,.04);
    border:1px solid rgba(0,0,0,.1);
    border-radius:12px; padding:.45rem; min-width:170px;
    box-shadow:var(--shadow);
  }
  @media (prefers-color-scheme: dark){
    .menu{ background:rgba(255,255,255,.04); border-color:rgba(255,255,255,.12); }
  }
  .menu a{ padding:.6rem .8rem; border-radius:8px; color:inherit; font-weight:600; }
  .menu a:hover{ background:rgba(47,110,252,.12); text-decoration:none; }

  /* apertura: ordine DOM = #nav-toggle → .hamburger → .menu */
  #nav-toggle:checked + .hamburger + .menu{ display:flex; }

  /* (opzionale) animazione hamburger → X */
  #nav-toggle:checked + .hamburger span:nth-child(1){ transform:translateY(6px) rotate(45deg); }
  #nav-toggle:checked + .hamburger span:nth-child(2){ opacity:0; }
  #nav-toggle:checked + .hamburger span:nth-child(3){ transform:translateY(-6px) rotate(-45deg); }
}

/* Evidenziazione pagina corrente (opzionale) */
nav a[aria-current="page"]{ text-decoration:underline; text-underline-offset:6px; }

/* Accessibilità */
.menu a:focus, a:focus{ outline:3px solid #9fc1ff; outline-offset:2px; }
